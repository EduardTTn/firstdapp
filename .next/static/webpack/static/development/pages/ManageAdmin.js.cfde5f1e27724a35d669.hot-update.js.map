{"version":3,"file":"static/webpack/static/development/pages/ManageAdmin.js.cfde5f1e27724a35d669.hot-update.js","sources":["webpack:///./pages/ManageAdmin.js"],"sourcesContent":["import React, {Component} from 'react';\nimport instance from '../components/carrecord.js';\nimport Head from \"next/head\";\nimport {Button, Container, Dropdown, Form, Icon, Image, Menu, Message, Segment} from \"semantic-ui-react\";\nimport web3 from \"../components/web3.js\"\nimport Link from 'next/link';\nimport FixedMenuLayout from \"../components/footer\";\nimport SimpleSnackbar from \"../components/snackbar\";\nimport {Snackbar} from \"@material-ui/core\";\n\n\nclass ManageAdmin extends Component {\n\n\n    state = {\n\n        loading: false,\n        errorMessage: '',\n        errorRemoveMessage: '',\n        errorSearchMessage: '',\n        name: '',\n        removeadmin: '',\n        address: '',\n        accounts: [],\n        adminsearch: '',\n        isAdmin: false,\n        showifadmin: false\n    };\n\n    onSubmit = async event => {\n        event.preventDefault();\n\n        this.setState({loading: true, errorMessage: ''});\n\n\n        try {\n            this.setState({accounts: await web3.eth.getAccounts()});\n            this.setState({errorRemoveMessage: ''});\n            this.setState({errorSearchMessage: ''});\n\n            await instance.methods.addAdmin(this.state.address, this.state.name).send({\n                from: this.state.accounts[0]\n            })\n\n        } catch (err) {\n            this.setState({loading: false});\n            if (this.state.address === '' || this.state.name === '') {\n                this.setState({errorMessage: \"Fields can't be empty\"});\n            } else if (err.message.includes('invalid address'))\n                this.setState({errorMessage: 'invalid address'});\n        }\n        this.setState({loading: false});\n\n        console.log(accounts);\n    };\n\n\n    onSubmitRemove = async event => {\n        event.preventDefault();\n        this.setState({accounts: await web3.eth.getAccounts()});\n        this.setState({errorMessage: ''});\n        this.setState({errorRemoveMessage: ''});\n        try {\n\n            this.setState({loading: true, errorSearchMessage: ''});\n            if (this.state.removeadmin === '') {\n                this.setState({errorRemoveMessage: 'Field is empty'})\n            } else {\n                await instance.methods.removeAdmin(this.state.removeadmin).send({\n                    from: this.state.accounts[0]\n\n                });\n\n            }\n\n        } catch (error) {\n            this.setState({errorRemoveMessage: error.message});\n        }\n        this.setState({loading: false});\n\n\n    };\n\n    onSubmitSearch = async event => {\n\n        try {\n            event.preventDefault();\n            this.setState({accounts: await web3.eth.getAccounts()});\n            this.setState({errorMessage: ''});\n            this.setState({errorRemoveMessage: ''});\n            this.setState({loading: true, errorSearchMessage: ''});\n\n            if (this.state.adminsearch === '') {\n                this.setState({errorSearchMessage: 'Field is empty'});\n            } else {\n                this.setState({isAdmin: await instance.methods.checkAdmin(this.state.adminsearch).call()});\n                this.setState({showifadmin: true});\n            }\n\n        } catch (err) {\n\n            this.setState({errorSearchMessage: err.message});\n        }\n\n        this.setState({loading: false});\n        console.log(accounts);\n    };\n\n\n    handleChangeAddress = event => {\n        event.preventDefault();\n        this.setState({address: event.target.value});\n        this.setState({errorMessage: ''});\n        this.setState({showifadmin: false});\n    };\n\n    handleChangeName = event => {\n        event.preventDefault();\n        this.setState({name: event.target.value});\n        this.setState({errorMessage: ''});\n        this.setState({errorRemoveMessage: ''});\n        this.setState({errorSearchMessage: ''});\n        this.setState({showifadmin: false});\n    };\n\n    handleRemoveName = event => {\n        event.preventDefault();\n        this.setState({removeadmin: event.target.value});\n        this.setState({errorMessage: ''});\n        this.setState({errorRemoveMessage: ''});\n        this.setState({errorSearchMessage: ''});\n        this.setState({showifadmin: false});\n\n    };\n\n    handleSearch = event => {\n        event.preventDefault();\n        this.setState({adminsearch: event.target.value});\n        this.setState({errorMessage: ''});\n        this.setState({errorRemoveMessage: ''});\n        this.setState({errorSearchMessage: ''});\n        this.setState({showifadmin: false});\n    };\n\n    render() {\n\n\n\n        let buttonStyle = {\n            margin: '4px'\n        };\n\n        let cardStyle = {\n            width: '50%',\n            margin: '100px auto'\n\n        };\n\n        let labelStyle = {\n            margin: '10px'\n        };\n\n        let formstyle = {\n            opacity: '100%'\n        };\n\n        {\n            return (\n\n                <div>\n                    <div>\n                        <Menu fixed='top' inverted>\n                            <Container>\n                                <Link href=\"/index\">\n                                    <Menu.Item as='a' header>\n                                        <Image size='normal' src='https://img.icons8.com/cotton/50/000000/retro-car.png'\n                                               style={{marginLeft: '1.5em'}}/>\n                                        <h2>Car Record</h2>\n                                    </Menu.Item>\n                                </Link>\n                                <Menu.Item as='a'><Link href=\"/ManageAdmin\">Manage Admin</Link></Menu.Item> :\n\n\n                                <Dropdown item simple text='Manage Cars'>\n                                    <Dropdown.Menu>\n                                        <Link href=\"/AddCar\">\n                                            <Dropdown.Item as='a'>Add Car</Dropdown.Item>\n                                        </Link>\n                                        <Link href=\"/ModifyCar\">\n                                            <Dropdown.Item as='a'>Modify Car</Dropdown.Item>\n                                        </Link>\n                                        <Link href=\"/AddEvent\">\n                                            <Dropdown.Item as='a'>Add Event</Dropdown.Item>\n                                        </Link>\n                                        }\n\n\n                                    </Dropdown.Menu>\n                                </Dropdown>\n\n                            </Container>\n\n                        </Menu>\n                    </div>\n                    <Head>\n                        <link\n                            rel=\"stylesheet\"\n                            href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.11/semantic.min.css\"\n                        />\n                        <style>{`\n        body {\n         background: url(\"https://images.pexels.com/photos/707047/pexels-photo-707047.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=1280&w=1900\");\n         background-repeat: no-repeat;\n         background-position: center; \n        }\n      `}</style>\n                    </Head>\n\n                    <h1 style={{margin: '20px'}}>Manage Admins</h1>\n\n\n                    <Segment inverted style={cardStyle}>\n                        <label style={labelStyle}><h3>Add Admin</h3></label>\n                        <Form inverted className={\"form-inline\"} onSubmit={this.onSubmit}\n                              error={!!this.state.errorMessage} style={formstyle}>\n                            <Form.Group inline style={{width: '60%', margin: '30px auto'}}>\n\n                                <Form.Field required style={{width: '70%', margin: '10px'}}>\n\n\n                                    <Form.Input fluid label=\"Admin Address:\" placeholder=\"Address of the Admin\"\n                                                aria-placeholder={{color: 'purple'}}\n                                                style={{width: '100%'}}\n                                                value={this.state.address}\n                                                onChange={this.handleChangeAddress}\n                                                error={!!this.state.errorMessage}\n                                    />\n\n\n                                    <Form.Input fluid label=\"Admin Name:\" placeholder=\"Name of the Admin\"\n                                                aria-placeholder={{color: 'purple'}}\n                                                style={{width: '96.555%'}}\n                                                value={this.state.name}\n                                                onChange={this.handleChangeName}\n                                                error={!!this.state.errorMessage}\n                                    />\n                                </Form.Field>\n                                <Form.Field>\n                                    <Button  onClick={this.onSubmit} color={\"purple\"}>\n                                        Add\n                                    </Button>\n                                </Form.Field>\n                            </Form.Group>\n                            <Message style={buttonStyle} error header={\"Error!\"} content={this.state.errorMessage}/>\n                        </Form>\n                    </Segment>\n\n                    <Segment inverted style={cardStyle}>\n                        <label style={labelStyle}><h3>Remove Admin</h3></label>\n                        <Form inverted className={\"form-inline\"} onSubmit={this.onSubmit}\n                              error={!!this.state.errorRemoveMessage} style={formstyle}>\n                            <Form.Group inline style={{width: '60%', margin: '50px auto',}}>\n                                <label>Admin Name:</label>\n                                <Form.Field style={{width: '70%', margin: '10px'}}>\n                                    <Form.Input placeholder=\"Name of the Admin\"\n                                                aria-placeholder={{color: 'purple'}}\n                                                style={{width: '100%'}}\n                                                value={this.state.removeadmin}\n                                                onChange={this.handleRemoveName}\n                                                error={!!this.state.errorRemoveMessage}\n                                    />\n                                </Form.Field>\n                                <Form.Field>\n                                    <Button onClick={this.onSubmitRemove} color={\"purple\"}>\n                                        Remove\n                                    </Button>\n                                </Form.Field>\n                            </Form.Group>\n                            <Message style={buttonStyle} error header={\"Error!\"}\n                                     content={this.state.errorRemoveMessage}/>\n                        </Form>\n                    </Segment>\n\n                    <Segment inverted style={cardStyle}>\n                        <label style={labelStyle}><h3>Check Admin</h3></label>\n                        <Form inverted inverted  className={\"form-inline\"} onSubmit={this.onSubmitSearch}\n                              error={!!this.state.errorSearchMessage} style={formstyle}>\n                            <Form.Group inline style={{width: '60%', margin: '50px auto',}}>\n                                <label>Admin Name:</label>\n                                <Form.Field style={{width: '70%', margin: '10px'}}>\n                                    <input placeholder=\"Name of the Admin\"\n                                           aria-placeholder={{color: 'purple'}}\n                                           style={{width: '100%'}}\n                                           value={this.state.adminsearch}\n                                           onChange={this.handleSearch}\n                                           error={!!this.state.errorSearchMessage}\n                                    />\n                                </Form.Field>\n                                <Form.Field>\n                                    <Button onClick={this.onSubmitSearch} color={\"purple\"}>\n                                        <Icon color='white' name='search'/>\n                                    </Button>\n\n                                </Form.Field>\n                            </Form.Group>\n                            <Message style={buttonStyle} error header={\"Error!\"}\n                                     content={this.state.errorSearchMessage}/>\n\n                        </Form>\n                        <div>{this.state.showifadmin === true ?\n                            <Message info>{this.state.isAdmin === true ? 'Is an Admin' : 'Is not an Admin'}</Message>\n                            : null}</div>\n                    </Segment>\n\n                    <div>{this.state.loading === true ? <SimpleSnackbar/> : null}</div>\n\n                    <FixedMenuLayout/>\n\n                </div>\n\n            );\n        }\n    }\n}\n\nexport default ManageAdmin"],"mappings":"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","sourceRoot":""}