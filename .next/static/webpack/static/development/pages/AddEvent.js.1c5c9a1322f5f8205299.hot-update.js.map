{"version":3,"file":"static/webpack/static/development/pages/AddEvent.js.1c5c9a1322f5f8205299.hot-update.js","sources":["webpack:///./pages/AddEvent.js"],"sourcesContent":["import React, {Component} from 'react';\nimport instance from '../components/carrecord.js';\nimport Head from \"next/head\";\nimport {Button, Container, Dropdown, Form, Image, Menu, Message, Segment, TextArea} from \"semantic-ui-react\";\nimport web3 from \"../components/web3.js\"\nimport Link from 'next/link';\nimport FixedMenuLayout from \"../components/footer\";\nimport SimpleSnackbar from \"../components/snackbar\";\n\n\nclass AddEvent extends Component {\n\n    state = {\n        VIN: '',\n        day: '',\n        month: '',\n        year: '',\n        type: '',\n        mileage: '',\n        desc: '',\n        loading: false,\n        errorMessage: '',\n        appointmentDate: null\n    };\n\n    onSubmit = async event => {\n        if (this.state.VIN === '' || this.state.day === '' || this.state.month === '' || this.state.year === '' || this.state.type === '' || this.state.mileage  === '' || this.state.desc === '') {\n            this.setState({errorMessage: \"Fields can't be empty\"});}\n\n            else if (this.state.day > 31 || this.state.day < 1) {\n                this.setState({errorMessage: \"Invalid day\"});\n            }\n           else if (this.state.month > 12 || this.state.month < 1) {\n                this.setState({errorMessage: \"Invalid month\"});\n            }\n            else if (this.state.year > 2040 || this.state.year < 2019) {\n                this.setState({errorMessage: \"Invalid year\"});\n            }\n\n        else if(this.state.errorMessage === ''){\n            event.preventDefault();\n            this.setState({accounts: await web3.eth.getAccounts()});\n            this.setState({loading: true, errorMessage: ''});\n            await instance.methods.addEvent(this.state.VIN, this.state.day, this.state.month, this.state.year, this.state.type, this.state.mileage, this.state.desc).send({\n                from: this.state.accounts[0]\n            });\n\n        }\n\n                };\n\n\n\n\n\n\n\n    handleAddVIN = event => {\n        event.preventDefault();\n        this.setState({VIN: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n\n    handleAddDay = event => {\n        event.preventDefault();\n        this.setState({day: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n\n    handleAddMonth = event => {\n        event.preventDefault();\n        this.setState({month: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n\n    handleAddYear = event => {\n        event.preventDefault();\n        this.setState({year: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n\n    handleAddMileage = event => {\n        event.preventDefault();\n        this.setState({mileage: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n    handleAddType = event => {\n        event.preventDefault();\n        this.setState({type: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n    handleAddDesc = event => {\n        event.preventDefault();\n        this.setState({desc: event.target.value});\n        this.setState({errorMessage: ''});\n    };\n\n\n    render() {\n        let formStyle = {\n            display: 'block',\n            width: '23%',\n            margin: '200px auto',\n            height: 'auto',\n        };\n\n\n        let buttonStyle = {\n            margin: '4px'\n        };\n\n        console.log('date:', this.state.appointmentDate);\n\n        return (\n\n            <div>\n                <div>\n                    <Menu fixed='top' inverted>\n                        <Container>\n                            <Link href=\"/index\">\n                                <Menu.Item as='a' header>\n                                    <Image size='normal' src='https://img.icons8.com/cotton/50/000000/retro-car.png'\n                                           style={{marginLeft: '1.5em'}}/>\n                                    <h2>Car Record</h2>\n                                </Menu.Item>\n                            </Link>\n                            <Menu.Item as='a'><Link href=\"/ManageAdmin\">Manage Admin</Link></Menu.Item> :\n\n\n                            <Dropdown item simple text='Manage Cars'>\n                                <Dropdown.Menu>\n                                    <Link href=\"/AddCar\">\n                                        <Dropdown.Item as='a'>Add Car</Dropdown.Item>\n                                    </Link>\n                                    <Link href=\"/ModifyCar\">\n                                        <Dropdown.Item as='a'>Modify Car</Dropdown.Item>\n                                    </Link>\n                                    <Link href=\"/AddEvent\">\n                                        <Dropdown.Item as='a'>Add Event</Dropdown.Item>\n                                    </Link>\n                                    }\n\n\n                                </Dropdown.Menu>\n                            </Dropdown>\n\n                        </Container>\n\n                    </Menu>\n                </div>\n                <Head>\n                    <link\n                        rel=\"stylesheet\"\n                        href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.11/semantic.min.css\"\n                    />\n                    <style>{`\n        body {\n         background: url(\"https://images.pexels.com/photos/707047/pexels-photo-707047.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=1280&w=1900\");\n         background-repeat: no-repeat;\n         background-position: center; \n        }\n      `}</style>\n                </Head>\n\n                >\n\n\n                <Segment inverted textAlign='center' style={formStyle}>\n                    <h1 style={{margin: '12px auto'}}> Add Event </h1>\n                    <Form  inverted onSubmit={this.onSubmit}\n                           style={{margin: '30px auto'}}\n                          error={!!this.state.errorMessage}>\n\n                        <Form.Group inline style={{width: '90%', margin: '30px auto',float:'right'}}>\n\n                            <Form.Field required style={{width: '70%', margin: '10px'}}>\n\n\n                                <Form.Input fluid label=\"VIN\" placeholder=\"VIN of the car...\"\n                                            style={{width: '100%'}}\n                                            value={this.state.VIN}\n                                            onChange={this.handleAddVIN}\n                                            error={!!this.state.errorMessage}\n                                />\n\n\n                                <Form.Input fluid label=\"Mileage:\" placeholder=\"brand of the car\"\n                                            style={{width: '96.555%'}}\n                                            value={this.state.mileage}\n                                            onChange={this.handleAddMileage}\n                                            error={!!this.state.errorMessage}\n                                            type=\"number\"\n\n                                />\n\n\n                                <Form.Input fluid label=\"Event Type:\" placeholder=\"color of the car\"\n                                            style={{width: '96.555%'}}\n                                            value={this.state.type}\n                                            onChange={this.handleAddType}\n                                            error={!!this.state.errorMessage}\n                                />\n\n\n                                <Form.Input fluid label=\"Short Description:\" placeholder=\"License\"\n                                            control={TextArea}\n                                            style={{width: '96.555%'}}\n                                            value={this.state.desc}\n                                            onChange={this.handleAddDesc}\n                                            error={!!this.state.errorMessage}\n                                />\n                                <br/>\n                                <h4>Date:</h4>\n                                <Form.Group inline widths=\"equal\" style={{width: '21%' }}>\n                                    <Form.Field style={{margin: '20%'}}>\n                                        <Form.Input label=\"day:\"\n                                                    style={{width:'100px'}}\n                                                    selected={parseInt(this.state.day)}\n                                                    onChange={this.handleAddDay}\n                                                    placeholder=\"Enter year of the car\"\n                                                    type=\"number\"\n                                                    min={1} max={31} step={1}\n                                        />\n\n\n                                        <Form.Input label=\"month:\"\n                                                    style={{width:'100px'}}\n                                                    value={parseInt(this.state.month)}\n                                                    onChange={this.handleAddMonth}\n                                                    placeholder=\"Enter year of the car\"\n                                                    type=\"number\"\n                                                    min={1} max={12} step={1}\n                                        />\n\n\n                                        <Form.Input label=\"year:\"\n                                                    style={{width:'100px'}}\n                                                    value={parseInt(this.state.year)}\n                                                    onChange={this.handleAddYear}\n                                                    placeholder=\"Enter year of the car\"\n                                                    type=\"number\"\n                                                    min={2019} max={2040} step={1}\n                                        />\n                                    </Form.Field>\n\n\n                                </Form.Group>\n\n                            </Form.Field>\n\n\n                        </Form.Group>\n\n                        <Form.Field>\n                            <Button onClick={this.onSubmit} color={\"purple\"}>\n                                Make Changes\n                            </Button>\n                        </Form.Field>\n\n\n                        <Message style={buttonStyle} error header={\"Error!\"} content={this.state.errorMessage}/>\n                    </Form>\n                </Segment>\n\n\n                <div>{this.state.loading === true ? <SimpleSnackbar/> : null}</div>\n\n                <FixedMenuLayout/>\n\n            </div>\n\n        );\n    }\n\n}\n\nexport default AddEvent\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AACA;;;;;;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AACA;AANA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AACA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AAAA;AAAA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAcA;AAfA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAgBA;AAhBA;AACA;AADA;AACA;AAgBA;AAAA;AAAA;AAAA;AACA;AAlBA;AAAA;AAmBA;AADA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AA+BA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAQA;AACA;AADA;AAIA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA5QA;AACA;AA+QA;;;;A","sourceRoot":""}